// ----------------------------------------------------------------------------------------------------------------
//
//  ****************** Tile ******************
// 
// ----------------------------------------------------------------------------------------------------------------
import java.time.*;
public class Tile {
// ----------------------------------------------------------------------------------------------------------------
//  ****************** Global Variables ******************
// ----------------------------------------------------------------------------------------------------------------
  private final PFont FONT = createFont("Georgia", 64);
  private final int DATE_FONT_SIZE = 25;
  private final int TILE_STROKE_WEIGHT = 5;


// date data
  private DayOfWeek dayOfWeek;
  private int date;

// position data
  private int x;
  private int y;
  private int tileNumber;

// ----------------------------------------------------------------------------------------------------------------
//  Tile - Constructor accepts args (int x position in array,int y position in array, DayOfWeek dayOfWeek)
// ----------------------------------------------------------------------------------------------------------------
  public Tile (int x, int y, DayOfWeek dayOfWeek) {
    // x y position in array
    this.x = x;
    this.y = y;

    // date
    this.dayOfWeek = dayOfWeek;


    setTileNumber();
    setDate();
  }

// ----------------------------------------------------------------------------------------------------------------
//  ****************** Do Stuffers ******************
// ----------------------------------------------------------------------------------------------------------------

// ----------------------------------------------------------------------------------------------------------------
//  show - Runs all of the drawing functions
// ----------------------------------------------------------------------------------------------------------------
  public void show() {
    drawTile();
    drawDate();
  }
// ----------------------------------------------------------------------------------------------------------------
//  drawTile - Draws the tile in the correct spot on the screen
// ----------------------------------------------------------------------------------------------------------------
  private void drawTile() {
    stroke(152);
    strokeWeight(TILE_STROKE_WEIGHT);
    fill(244);
    setCornerRoundness();
  }
// ----------------------------------------------------------------------------------------------------------------
//  drawDate - Draws the date in the correct spot on the screen and the correct date in the correct position
// ----------------------------------------------------------------------------------------------------------------
  private void drawDate() {
    textFont(FONT, DATE_FONT_SIZE);
    fill(0);
    textAlign(RIGHT,TOP);
    
    if (firstDayOfMonth > getTileNumber() || header.getMonth().length(localDate.isLeapYear()) < getDate()) {
      text("",getTileOffset("x"), getTileOffset("y"), TILE_SIZE_X, TILE_SIZE_Y);
    } else {
      text(String.valueOf(getDate()),getTileOffset("x") - TILE_STROKE_WEIGHT, getTileOffset("y"), TILE_SIZE_X, TILE_SIZE_Y);
    }
  
  }



// ----------------------------------------------------------------------------------------------------------------
//  ****************** Getters ******************
// ----------------------------------------------------------------------------------------------------------------

// ----------------------------------------------------------------------------------------------------------------
//  getX - returns value of X
// ----------------------------------------------------------------------------------------------------------------
  public int getX() {
    return x;
  }
// ----------------------------------------------------------------------------------------------------------------
//  getY - returns value of Y
// ----------------------------------------------------------------------------------------------------------------
  public int getY() {
    return y;
  }
// ----------------------------------------------------------------------------------------------------------------
//  getTileOffset - returns the offset of the tile
// ----------------------------------------------------------------------------------------------------------------
  public float getTileOffset(String str) {
    return (str.equals("x")) ? getX()*TILE_SIZE_X: TILE_SIZE_Y + getY()*TILE_SIZE_Y;
  }
// ----------------------------------------------------------------------------------------------------------------
//  getTileNumber - returns the Number of the tile
// ----------------------------------------------------------------------------------------------------------------
  public int getTileNumber() {
    return this.tileNumber;
  }
// ----------------------------------------------------------------------------------------------------------------
//  setDate - sets the  date
// ----------------------------------------------------------------------------------------------------------------
  public int getDate() {
    return this.date;
  }



// ----------------------------------------------------------------------------------------------------------------
//  ****************** Setters ******************
// ----------------------------------------------------------------------------------------------------------------


// ----------------------------------------------------------------------------------------------------------------
//  setTileNumber - sets the Number of the tile
// ----------------------------------------------------------------------------------------------------------------
  private void setTileNumber() {
    this.tileNumber = getX() + getY()*7; 
  }
// ----------------------------------------------------------------------------------------------------------------
//  setCornerRoundness - sets the corners to round on the bottom of calendar
// ----------------------------------------------------------------------------------------------------------------
  private void setCornerRoundness(){
    if (getX() == 6 && getY() == 5)
      rect(getTileOffset("x"), getTileOffset("y"), TILE_SIZE_X, TILE_SIZE_Y,0,0,10,0);
    else if (getX() == 0 && getY() == 5)
      rect(getTileOffset("x"), getTileOffset("y"), TILE_SIZE_X, TILE_SIZE_Y,0,0,0,10);
    else
      rect(getTileOffset("x"), getTileOffset("y"), TILE_SIZE_X, TILE_SIZE_Y);
  }
// ----------------------------------------------------------------------------------------------------------------
//  setDate - sets the  date
// ----------------------------------------------------------------------------------------------------------------
  private void setDate() {
    this.date = getTileNumber() - firstDayOfMonth + 1;
  }


}// Tile
